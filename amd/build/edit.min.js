define(["jquery"],function(t){function e(e,n){t.post("edit.php",{id:n,action:"order",order:JSON.stringify(e)},function(){location.reload()})}function n(){let e=[];return t(".questionlist li").each(function(){e.push(t(this).data("question-id"))}),e}function i(t,e){let i=n(),o=i.indexOf(t);if(-1===o)return i;for(let n=0;n<i.length;n++)if(n+e===o){i[o]=i[n],i[n]=t;break}return i}return{initialize:function(o){t(".edit-question-action").on("click",function(){const a=t(this).data("action"),r=t(this).data("question-id");let c=[];switch(a){case"up":c=i(r,1);break;case"down":c=i(r,-1);break;case"delete":const t=(c=n()).indexOf(r);-1!==t&&c.splice(t,1);break;default:return}e(c,o)});let a=document.getElementsByClassName("questionlist")[0];Sortable.create(a,{handle:".dragquestion",onSort:function(){e(n(),o)}})}}});