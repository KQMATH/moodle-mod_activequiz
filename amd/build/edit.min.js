define(["jquery"],function(t){function e(e,i){t.post("edit.php",{id:i,action:"order",order:JSON.stringify(e)},()=>location.reload())}function i(){let e=[];return t(".questionlist li").each(function(){e.push(t(this).data("question-id"))}),e}function n(t,e){let n=i(),o=n.indexOf(t);if(-1===o)return n;for(let i=0;i<n.length;i++)if(i+e===o){n[o]=n[i],n[i]=t;break}return n}return{initialize:o=>{t(".edit-question-action").on("click",function(){const a=t(this).data("action"),r=t(this).data("question-id");let s=[];switch(a){case"up":s=n(r,1);break;case"down":s=n(r,-1);break;case"delete":const t=(s=i()).indexOf(r);-1!==t&&s.splice(t,1);break;default:return}e(s,o)});let a=document.getElementsByClassName("questionlist")[0];Sortable.create(a,{handle:".dragquestion",onSort:()=>e(i(),o)})}}});