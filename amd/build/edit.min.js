"use strict";define(["jquery"],function(t){function e(e,n){t.post("edit.php",{id:n,action:"order",order:JSON.stringify(e)},function(){return location.reload()})}function n(){var e=[];return t(".questionlist li").each(function(){e.push(t(this).data("question-id"))}),e}function i(t,e){var i=n(),r=i.indexOf(t);if(-1===r)return i;for(var a=0;a<i.length;a++)if(a+e===r){i[r]=i[a],i[a]=t;break}return i}return{initialize:function(r){t(".edit-question-action").on("click",function(){var a=t(this).data("action"),o=t(this).data("question-id"),u=[];switch(a){case"up":u=i(o,1);break;case"down":u=i(o,-1);break;case"delete":var c=(u=n()).indexOf(o);-1!==c&&u.splice(c,1);break;default:return}e(u,r)});var a=document.getElementsByClassName("questionlist")[0];Sortable.create(a,{handle:".dragquestion",onSort:function(){return e(n(),r)}})}}});